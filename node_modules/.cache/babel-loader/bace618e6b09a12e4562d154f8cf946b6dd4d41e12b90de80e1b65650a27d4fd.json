{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'TableComponent',\n  data() {\n    return {\n      formularioCompleto: false,\n      dialog: false,\n      dialogDelete: false,\n      headers: [{\n        text: 'Rfc',\n        align: 'start',\n        sortable: false,\n        value: 'rfc'\n      }, {\n        text: 'Razón Social',\n        value: 'razon_social'\n      }, {\n        text: 'Contacto',\n        value: 'contacto'\n      }, {\n        text: 'Status',\n        value: 'status'\n      }, {\n        text: 'Tel. Principal',\n        value: 'tel_principal'\n      }, {\n        text: 'Tel. Movil',\n        value: 'tel_movil'\n      }, {\n        text: 'Email',\n        value: 'email'\n      }, {\n        text: 'Código Postal',\n        value: 'codigo_postal'\n      }, {\n        text: 'Número Interior',\n        value: 'numero_interior'\n      }, {\n        text: 'Número Exterior',\n        value: 'numero_exterior'\n      }, {\n        text: 'Calle',\n        value: 'calle'\n      }, {\n        text: 'Colonia',\n        value: 'colonia'\n      }, {\n        text: 'Entidad',\n        value: 'entidad'\n      }, {\n        text: 'Municipio',\n        value: 'municipio'\n      }, {\n        text: 'Actions',\n        value: 'actions',\n        sortable: false\n      }],\n      proveedores: [],\n      editedIndex: -1,\n      editedItem: {\n        rfc: '',\n        razon_social: '',\n        contacto: '',\n        status: '',\n        tel_principal: '',\n        tel_movil: '',\n        email: '',\n        codigo_postal: '',\n        numero_interior: '',\n        numero_exterior: '',\n        calle: '',\n        colonia: '',\n        entidad: '',\n        municipio: ''\n      },\n      defaultItem: {\n        rfc: '',\n        razon_social: '',\n        contacto: '',\n        status: '',\n        tel_principal: '',\n        tel_movil: '',\n        email: '',\n        codigo_postal: '',\n        numero_interior: '',\n        numero_exterior: '',\n        calle: '',\n        colonia: '',\n        entidad: '',\n        municipio: ''\n      },\n      formTitle: ''\n    };\n  },\n  methods: {\n    initialize() {\n      axios.get('https://localhost:44331/api/documento/proveedor').then(response => {\n        if (response.data && Array.isArray(response.data.data)) {\n          this.proveedores = response.data.data;\n          console.log('Datos de proveedores cargados correctamente:', this.proveedores);\n        } else {\n          console.error('La respuesta no contiene la estructura esperada');\n        }\n      }).catch(error => {\n        console.error('Error al obtener los datos de proveedores desde MongoDB', error);\n      });\n    },\n    close() {\n      this.dialog = false;\n    },\n    closeDelete() {\n      this.dialogDelete = false;\n    },\n    async save() {\n      try {\n        if (this.editedIndex > -1) {\n          await axios.put(`https://localhost:44378/api/documento/proveedor/actualizacion/${this.editedItem.id}`, this.editedItem);\n        } else {\n          await axios.post('https://localhost:44378/api/documento/proveedor/registro', this.editedItem);\n        }\n        this.initialize();\n        this.close();\n      } catch (error) {\n        console.error('Error al guardar los datos en MongoDB:', error);\n      }\n    },\n    async deleteItemConfirm() {\n      try {\n        if (this.editedIndex > -1) {\n          await axios.delete(`https://localhost:44378/api/documento/coche/${this.editedItem.id}`);\n          this.initialize();\n        }\n        this.closeDelete();\n      } catch (error) {\n        console.error('Error al eliminar el elemento en MongoDB:', error);\n      }\n    },\n    editItem(item) {\n      this.formTitle = 'Editar';\n      this.editedItem = {\n        ...item\n      };\n      this.editedIndex = this.proveedores.indexOf(item);\n      this.dialog = true;\n    },\n    deleteItem(item) {\n      this.editedIndex = this.proveedores.indexOf(item);\n      this.editedItem = Object.assign({}, item);\n      this.dialogDelete = true;\n    }\n  },\n  watch: {\n    dialog(val) {\n      val || this.close();\n    },\n    dialogDelete(val) {\n      val || this.closeDelete();\n    }\n  },\n  created() {\n    this.initialize();\n  }\n};","map":{"version":3,"names":["axios","name","data","formularioCompleto","dialog","dialogDelete","headers","text","align","sortable","value","proveedores","editedIndex","editedItem","rfc","razon_social","contacto","status","tel_principal","tel_movil","email","codigo_postal","numero_interior","numero_exterior","calle","colonia","entidad","municipio","defaultItem","formTitle","methods","initialize","get","then","response","Array","isArray","console","log","error","catch","close","closeDelete","save","put","id","post","deleteItemConfirm","delete","editItem","item","indexOf","deleteItem","Object","assign","watch","val","created"],"sources":["src/components/proveedores/TableComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n        <v-data-table :headers=\"headers\" :items=\"proveedores\" class=\"elevation-1\">\r\n          <template v-slot:top>\r\n            <v-toolbar flat>\r\n              <v-toolbar-title>Proveedores</v-toolbar-title>\r\n              <v-divider class=\"mx-4\" inset vertical></v-divider>\r\n              <v-spacer></v-spacer>\r\n              <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n                <v-card>\r\n                  <v-card-title>\r\n                    <span class=\"text-h5\">{{ formTitle }}</span>\r\n                  </v-card-title>\r\n                  <v-card-text>\r\n                    <v-container>\r\n                      <v-row>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                          <v-text-field v-model=\"editedItem.marca\" label=\"Marca\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                          <v-text-field v-model=\"editedItem.modelo\" label=\"Modelo\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                          <v-text-field v-model=\"editedItem.ano\" label=\"Año\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                          <v-text-field v-model=\"editedItem.color\" label=\"Color\"></v-text-field>\r\n                        </v-col>\r\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                          <v-text-field v-model=\"editedItem.precio\" label=\"Precio\"></v-text-field>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-container>\r\n                  </v-card-text>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"close\">\r\n                      Cancel\r\n                    </v-btn>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"save\">\r\n                      Save\r\n                    </v-btn>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n              <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\r\n                <v-card>\r\n                  <v-card-title class=\"text-h5\">¿Quieres borrar este elemento?</v-card-title>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancelar</v-btn>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"deleteItemConfirm\">OK</v-btn>\r\n                    <v-spacer></v-spacer>\r\n                  </v-card-actions>\r\n                </v-card>\r\n              </v-dialog>\r\n            </v-toolbar>\r\n          </template>\r\n          <template v-slot:item.actions=\"{ item }\">\r\n            <v-icon small class=\"mr-2\" @click=\"editItem(item)\">\r\n              mdi-pencil\r\n            </v-icon>\r\n            <v-icon small @click=\"deleteItem(item)\">\r\n              mdi-delete\r\n            </v-icon>\r\n          </template>\r\n        </v-data-table>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'TableComponent',\r\n  data() {\r\n    return {\r\n      formularioCompleto: false,\r\n      dialog: false,\r\n      dialogDelete: false,\r\n      headers: [\r\n        {\r\n          text: 'Rfc',\r\n          align: 'start',\r\n          sortable: false,\r\n          value: 'rfc',\r\n        },\r\n        { text: 'Razón Social', value: 'razon_social' },\r\n        { text: 'Contacto', value: 'contacto' },\r\n        { text: 'Status', value: 'status' },\r\n        { text: 'Tel. Principal', value: 'tel_principal' },\r\n        { text: 'Tel. Movil', value: 'tel_movil' },\r\n        { text: 'Email', value: 'email' },\r\n        { text: 'Código Postal', value: 'codigo_postal' },\r\n        { text: 'Número Interior', value: 'numero_interior' },\r\n        { text: 'Número Exterior', value: 'numero_exterior' },\r\n        { text: 'Calle', value: 'calle' },\r\n        { text: 'Colonia', value: 'colonia' },\r\n        { text: 'Entidad', value: 'entidad' },\r\n        { text: 'Municipio', value: 'municipio' },\r\n        { text: 'Actions', value: 'actions', sortable: false },\r\n      ],\r\n      proveedores: [],\r\n      editedIndex: -1,\r\n      editedItem: {\r\n        rfc: '',\r\n        razon_social: '',\r\n        contacto: '',\r\n        status: '',\r\n        tel_principal: '',\r\n        tel_movil: '',\r\n        email: '',\r\n        codigo_postal: '',\r\n        numero_interior: '',\r\n        numero_exterior: '',\r\n        calle: '',\r\n        colonia: '',\r\n        entidad: '',\r\n        municipio: '',\r\n      },\r\n      defaultItem: {\r\n        rfc: '',\r\n        razon_social: '',\r\n        contacto: '',\r\n        status: '',\r\n        tel_principal: '',\r\n        tel_movil: '',\r\n        email: '',\r\n        codigo_postal: '',\r\n        numero_interior: '',\r\n        numero_exterior: '',\r\n        calle: '',\r\n        colonia: '',\r\n        entidad: '',\r\n        municipio: '',\r\n      },\r\n      formTitle: '',\r\n    }\r\n  },\r\n  methods: {\r\n    initialize() {\r\n      axios.get('https://localhost:44331/api/documento/proveedor')\r\n        .then(response => {\r\n          if (response.data && Array.isArray(response.data.data)) {\r\n            this.proveedores = response.data.data;\r\n            console.log('Datos de proveedores cargados correctamente:', this.proveedores);\r\n          } else {\r\n            console.error('La respuesta no contiene la estructura esperada');\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error al obtener los datos de proveedores desde MongoDB', error);\r\n        });\r\n    },\r\n    close() {\r\n      this.dialog = false;\r\n    },\r\n    closeDelete() {\r\n      this.dialogDelete = false;\r\n    },\r\n    async save() {\r\n      try {\r\n        if (this.editedIndex > -1) {\r\n          await axios.put(`https://localhost:44378/api/documento/proveedor/actualizacion/${this.editedItem.id}`, this.editedItem);\r\n        } else {\r\n          await axios.post('https://localhost:44378/api/documento/proveedor/registro', this.editedItem);\r\n        }\r\n\r\n        this.initialize();\r\n\r\n        this.close();\r\n      } catch (error) {\r\n        console.error('Error al guardar los datos en MongoDB:', error);\r\n      }\r\n    },\r\n    async deleteItemConfirm() {\r\n      try {\r\n        if (this.editedIndex > -1) {\r\n          await axios.delete(`https://localhost:44378/api/documento/coche/${this.editedItem.id}`);\r\n          this.initialize();\r\n        }\r\n        this.closeDelete();\r\n      } catch (error) {\r\n        console.error('Error al eliminar el elemento en MongoDB:', error);\r\n      }\r\n    },\r\n    editItem(item) {\r\n      this.formTitle = 'Editar';\r\n      this.editedItem = { ...item };\r\n      this.editedIndex = this.proveedores.indexOf(item);\r\n      this.dialog = true;\r\n    },\r\n    deleteItem(item) {\r\n      this.editedIndex = this.proveedores.indexOf(item);\r\n      this.editedItem = Object.assign({}, item);\r\n      this.dialogDelete = true;\r\n    },\r\n  },\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    },\r\n    dialogDelete(val) {\r\n      val || this.closeDelete();\r\n    },\r\n  },\r\n  created() {\r\n    this.initialize();\r\n  },\r\n\r\n}\r\n</script>"],"mappings":"AA4EA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,kBAAA;MACAC,MAAA;MACAC,YAAA;MACAC,OAAA,GACA;QACAC,IAAA;QACAC,KAAA;QACAC,QAAA;QACAC,KAAA;MACA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;MAAA,GACA;QAAAH,IAAA;QAAAG,KAAA;QAAAD,QAAA;MAAA,EACA;MACAE,WAAA;MACAC,WAAA;MACAC,UAAA;QACAC,GAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,aAAA;QACAC,SAAA;QACAC,KAAA;QACAC,aAAA;QACAC,eAAA;QACAC,eAAA;QACAC,KAAA;QACAC,OAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACAC,WAAA;QACAd,GAAA;QACAC,YAAA;QACAC,QAAA;QACAC,MAAA;QACAC,aAAA;QACAC,SAAA;QACAC,KAAA;QACAC,aAAA;QACAC,eAAA;QACAC,eAAA;QACAC,KAAA;QACAC,OAAA;QACAC,OAAA;QACAC,SAAA;MACA;MACAE,SAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA/B,KAAA,CAAAgC,GAAA,oDACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAhC,IAAA,IAAAiC,KAAA,CAAAC,OAAA,CAAAF,QAAA,CAAAhC,IAAA,CAAAA,IAAA;UACA,KAAAS,WAAA,GAAAuB,QAAA,CAAAhC,IAAA,CAAAA,IAAA;UACAmC,OAAA,CAAAC,GAAA,sDAAA3B,WAAA;QACA;UACA0B,OAAA,CAAAE,KAAA;QACA;MACA,GACAC,KAAA,CAAAD,KAAA;QACAF,OAAA,CAAAE,KAAA,4DAAAA,KAAA;MACA;IACA;IACAE,MAAA;MACA,KAAArC,MAAA;IACA;IACAsC,YAAA;MACA,KAAArC,YAAA;IACA;IACA,MAAAsC,KAAA;MACA;QACA,SAAA/B,WAAA;UACA,MAAAZ,KAAA,CAAA4C,GAAA,uEAAA/B,UAAA,CAAAgC,EAAA,SAAAhC,UAAA;QACA;UACA,MAAAb,KAAA,CAAA8C,IAAA,kEAAAjC,UAAA;QACA;QAEA,KAAAkB,UAAA;QAEA,KAAAU,KAAA;MACA,SAAAF,KAAA;QACAF,OAAA,CAAAE,KAAA,2CAAAA,KAAA;MACA;IACA;IACA,MAAAQ,kBAAA;MACA;QACA,SAAAnC,WAAA;UACA,MAAAZ,KAAA,CAAAgD,MAAA,qDAAAnC,UAAA,CAAAgC,EAAA;UACA,KAAAd,UAAA;QACA;QACA,KAAAW,WAAA;MACA,SAAAH,KAAA;QACAF,OAAA,CAAAE,KAAA,8CAAAA,KAAA;MACA;IACA;IACAU,SAAAC,IAAA;MACA,KAAArB,SAAA;MACA,KAAAhB,UAAA;QAAA,GAAAqC;MAAA;MACA,KAAAtC,WAAA,QAAAD,WAAA,CAAAwC,OAAA,CAAAD,IAAA;MACA,KAAA9C,MAAA;IACA;IACAgD,WAAAF,IAAA;MACA,KAAAtC,WAAA,QAAAD,WAAA,CAAAwC,OAAA,CAAAD,IAAA;MACA,KAAArC,UAAA,GAAAwC,MAAA,CAAAC,MAAA,KAAAJ,IAAA;MACA,KAAA7C,YAAA;IACA;EACA;EACAkD,KAAA;IACAnD,OAAAoD,GAAA;MACAA,GAAA,SAAAf,KAAA;IACA;IACApC,aAAAmD,GAAA;MACAA,GAAA,SAAAd,WAAA;IACA;EACA;EACAe,QAAA;IACA,KAAA1B,UAAA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}